# JET-PALLET for EORZER 実装ロードマップ

## 🎯 Claude と codex の最適な使い分け

### **Claude が得意なこと**
1. **設計・アーキテクチャの検討**
   - データ構造の詳細設計
   - 複雑なロジックのフロー設計
   - エッジケースの洗い出し

2. **複雑な機能の実装方針策定**
   - マクロシステムの実装戦略
   - 状態管理の設計
   - データ永続化の方針

3. **コードレビューと最適化**
   - 実装後のコード改善提案
   - パフォーマンス最適化の助言
   - バグの原因分析

### **codex が得意なこと**
1. **実際のコーディング**
   - HTMLのマークアップ
   - CSSスタイリング
   - JavaScriptの実装

2. **既存コードの編集**
   - リファクタリング
   - バグ修正
   - 機能追加

3. **インクリメンタルな開発**
   - 小さな機能の追加
   - UI調整
   - 即座のフィードバック

---

## 📋 段階的実装ロードマップ

### **Phase 0: 基盤整備**
**目標**: 開発環境とデータ構造の確立

**Claude で行うこと:**
- データ構造の詳細設計（JSON Schema）
- ファイル構成の決定
- 状態管理パターンの選定

**codex で行うこと:**
- プロジェクトファイルの作成
- 基本的なHTML構造の実装
- CSS変数とユーティリティクラスの整備

**成果物:**
```
project/
├── index.html (基本構造)
├── styles/
│   ├── theme-dracula.css
│   ├── main.css
│   └── components.css (新規)
├── scripts/
│   ├── data/
│   │   ├── schema.js (データ型定義)
│   │   └── default-data.js (初期データ)
│   ├── core/
│   │   └── state-manager.js (状態管理)
│   └── main.js
└── assets/
    ├── gages/（リソースUIのSVG置き場）
    └── icons/ (アイコン置き場)
```

---

### **Phase 1: 基本機能実装**
**目標**: アビリティ管理とコマンド生成の土台を整える

#### **Step 1.1: アビリティ表示**
**Claude:**
- アビリティカードのデータ構造設計
- ツールチップ表示ロジックの設計

**codex:**
- アビリティカードコンポーネントの実装
- ツールチップのCSS・JS実装

#### **Step 1.2: コマンド生成**
**Claude:**
- BCdiceコマンド生成ロジックの設計
- バフ効果の反映アルゴリズム

**codex:**
- コマンド生成UIの実装
- クリップボードコピー機能

#### **Step 1.3: バフ管理**
**Claude:**
- バフの追加・削除ロジック
- 継続時間管理の設計

**codex:**
- バフエリアUIの実装
- バフ登録モーダルの実装

**検証ポイント:**
- ✅ アビリティをクリックしてコマンド生成できる
- ✅ バフがコマンドに反映される
- ✅ ターン終了ボタンでバフが削除される

---

### **Phase 2: リソース管理**
**目標**: MP・カスタムリソースの実装

**Claude:**
- リソース計算ロジック
- リソース表示パターンの設計

**codex:**
- リソースコンポーネント実装
- スタック/ゲージ表示の実装
- +/- ボタン機能

**検証ポイント:**
- ✅ MPが正しく増減する
- ✅ カスタムリソースを追加できる
- ✅ 視覚的に分かりやすい

---

### **Phase 3: データ永続化**
**目標**: セーブ・ロード機能

**Claude:**
- セーブデータフォーマット設計
- 画像ファイル名参照方式の設計
- インポート/エクスポート仕様

**codex:**
- localStorage実装
- JSON エクスポート機能
- データ読み込み機能

**検証ポイント:**
- ✅ リロードしてもデータが保持される
- ✅ JSONでエクスポート/インポートできる

---

### **Phase 4: アビリティ登録UI**
**目標**: ユーザーが自由にアビリティを作成

**Claude:**
- フォームバリデーション設計
- プレビュー更新ロジック

**codex:**
- モーダルフォームの実装
- リアルタイムプレビュー
- タグ入力機能

**検証ポイント:**
- ✅ アビリティを新規作成できる
- ✅ プレビューが正確に表示される
- ✅ 編集・削除ができる

---

### **Phase 5: マクロシステム**
**目標**: 条件判定と自動処理

#### **Step 5.1: マクロデータ構造**
**Claude:**
- マクロブロックのデータ構造設計
- 条件評価エンジンの設計
- アクション実行順序の設計

**codex:**
- マクロブロックUIの実装
- ドラッグ&ドロップ機能

#### **Step 5.2: 条件評価エンジン**
**Claude:**
- AND/OR論理演算の実装方針
- 条件グループのネスト処理

**codex:**
- 条件ブロックの実装
- 条件追加UIの実装

#### **Step 5.3: アクション実行**
**Claude:**
- 各アクションタイプの実装ロジック
- 選択肢ダイアログの制御フロー

**codex:**
- アクションブロックの実装
- 選択肢ダイアログUI

**検証ポイント:**
- ✅ 条件が正しく評価される
- ✅ アクションが順次実行される
- ✅ 選択肢による分岐が機能する

---

### **Phase 6: 使用条件の視覚化**
**目標**: proc-line表示

**Claude:**
- 条件成立判定ロジック
- アニメーション制御

**codex:**
- SVGアニメーション実装
- 条件成立時のスタイル切替

---

### **Phase 7: 統合テストと改善**
**目標**: バグ修正と UX 改善

**Claude:**
- エッジケースの洗い出し
- パフォーマンス最適化提案

**codex:**
- バグ修正
- UI/UX改善
- レスポンシブ対応

---


---

## 📊 進捗管理のコツ

### **マイルストーン設定**
- Phase ごとにデモ可能な状態を目指す
- 各 Phase 終了時に動作確認

### **ドキュメント化**
- Claude との会話で出た設計をメモ
- codex で実装したコードにコメント

### **反復改善**
- 早めにプロトタイプを作る
- 実際に使ってフィードバック
